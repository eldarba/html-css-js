<!DOCTYPE html>
<html>
<style>
#container {
	width: 400px;
	height: 400px;
	position: relative;
	background: yellow;
}

#animate {
	width: 50px;
	height: 50px;
	position: absolute;
	background-color: red;
}
</style>
<body>

	<p>
		<button onclick="myMove()">Click Me</button>
	</p>

	<div id="container">
		<div id="animate"></div>
	</div>

	<script>
		function myMove() {
			var elem = document.getElementById("animate");
			var x = 100;
			var y = 0;
			var dx = 1;
			var dy = 1;
			var id = setInterval(frame, 1);
			function frame() {

				if (x >= 350) {
					dx = -1;
					dy = Math.floor(Math.random() * 5) - 2;
				}

				if (x <= 0) {
					dx = 1;
					dy = Math.floor(Math.random() * 5) - 2;
				}

				if (y >= 350) {
					dy = -1;
					dx = Math.floor(Math.random() * 5) - 2;
				}

				if (y <= -1) {
					dy = 1;
					dx = Math.floor(Math.random() * 5) - 2;
				}

				x += dx;
				y += dy;
				//pos += d; 
				elem.style.top = y + 'px';
				elem.style.left = x + 'px';
			}
		}
	</script>

</body>
</html>
